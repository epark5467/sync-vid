(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{117:function(e,a,t){e.exports=t(183)},122:function(e,a,t){},156:function(e,a){},183:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(9),c=t.n(r),o=(t(122),t(41)),i=t(13),u=(t(75),t(18)),s=t(214),m=t(238),d=t(219);var p=function(){var e=Object(n.useState)(""),a=Object(u.a)(e,2),t=a[0],r=a[1];return l.a.createElement("div",{className:"home-container"},l.a.createElement("h2",null,"Youtube Sync"),l.a.createElement("span",null,"Watch Youtube videos with your friends!"),l.a.createElement(s.a,null),l.a.createElement("div",{className:"room-selection"},l.a.createElement("span",null,"Enter Channel"),l.a.createElement(m.a,{className:"room-name-input",value:t,onChange:function(e){r(e.target.value)}}),l.a.createElement(o.b,{to:"r/".concat(t),className:"enter-room-button"},l.a.createElement(d.a,null,"Join Room"))))},E=t(105),b=t(35),f=t(104),v=t(20),O=t(101),y=t.n(O),g=t(102),h=t.n(g),j=t(103),N=t.n(j),_=t(220),w=t(242),C=t(221),k=t(222),S=t(224),x=t(225),I=t(226),P=t(243),J=t(185),M=t(217),R=t(241),W=t(231),B=t(218),F=t(240),T=t(223),Y=t(227),q=t(228),G=t(229),U=t(230),A=t(232),D=t(233),H=t(234),V=t(235),$=t(236),z=t(237),K=t(24),L=t(71),Q=t.n(L),X=y()("http://localhost:5000",{transports:["websocket"],upgrade:!1});function Z(e){var a=e.children,t=e.value,n=e.index,r=Object(E.a)(e,["children","value","index"]);return l.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n)},r),t===n&&l.a.createElement(F.a,{p:3},a))}function ee(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var ae=function(e){var a,t=e.match.params.roomName,c=Object(K.a)(),i=Object(n.useRef)(null),s=Object(n.useState)(""),d=Object(u.a)(s,2),p=d[0],E=d[1],O=Object(n.useState)(""),y=Object(u.a)(O,2),g=y[0],j=y[1],F=Object(n.useState)(""),L=Object(u.a)(F,2),ae=L[0],te=L[1],ne=Object(n.useState)(""),le=Object(u.a)(ne,2),re=le[0],ce=le[1],oe=Object(n.useState)(""),ie=Object(u.a)(oe,2),ue=ie[0],se=ie[1],me=Object(n.useState)([]),de=Object(u.a)(me,2),pe=de[0],Ee=de[1],be=Object(n.useState)(0),fe=Object(u.a)(be,2),ve=fe[0],Oe=fe[1],ye=Object(n.useState)(""),ge=Object(u.a)(ye,2),he=ge[0],je=ge[1],Ne=Object(n.useState)([]),_e=Object(u.a)(Ne,2),we=_e[0],Ce=_e[1],ke=Object(n.useState)({url:null,playing:!0,volume:.3,played:0,loaded:0,duration:0,playbackRate:1,loop:!1}),Se=Object(u.a)(ke,2),xe=Se[0],Ie=Se[1],Pe=Object(n.useState)([]),Je=Object(u.a)(Pe,2),Me=Je[0],Re=Je[1],We=Object(n.useState)(!1),Be=Object(u.a)(We,2);Be[0],Be[1];Object(n.useEffect)((function(){return X.emit("JOIN_ROOM",t),X.on("INCOMING_MESSAGE",(function(e){var a=Object(v.a)(Object(v.a)({},e),{},{sentByCurrentUser:e.sender.username===p});Ee((function(e){return[].concat(Object(f.a)(e),[a])}))})),X.on("get_users",(function(e){Re(e)})),X.on("user_info",(function(e){E(e.username),j(e.username),te(e.color),e.role!==re&&(X.emit("change_role",e.role),ce(e.role))})),X.on("get_playlist",(function(e){Ce(e)})),X.on("change_current_video",(function(e){Ie(Object(v.a)(Object(v.a)({},xe),{},{url:e}))})),X.on("current_video_request",(function(e){var a={user:e,url:i.current.props.url,played:i.current.getCurrentTime()};X.emit("current_video_prop",a)})),X.on("update_video",(function(e){Ie(Object(v.a)(Object(v.a)({},xe),{},{url:e.url,played:e.played,playing:!0})),i.current.seekTo(e.played),console.log(e.played,e.played/100)})),function(){X.disconnect()}}),[t]);var Fe=function(e){var a=we.splice(e,1);Ce(a),X.emit("update_playlist",we)},Te=function(e){X.emit("play_video",e)},Ye=function(){X.emit("play_video",0)};return l.a.createElement("div",{className:"root"},l.a.createElement(S.a,{position:"static"},l.a.createElement(x.a,{className:"app-header"},l.a.createElement(o.b,{to:"/",edge:"start"},"YT Sync"),l.a.createElement("span",{edge:"end",color:"inherit"},"Hello! ",p))),l.a.createElement(I.a,{container:!0,className:"room-container",justify:"space-between",alignItems:"stretch"},l.a.createElement(I.a,{item:!0,sm:!0,className:"video-container"},l.a.createElement(Q.a,(a={ref:i,className:"react-player",id:"streaming-player",playing:xe.playing,url:xe.url,duration:xe.duration,width:"100%",height:"80vh",volume:xe.volume},Object(b.a)(a,"playing",xe.playing),Object(b.a)(a,"onEnded",Ye),Object(b.a)(a,"onProgress",(function(e){Ie(Object(v.a)(Object(v.a)({},xe),{},{played:parseFloat(e.played),playing:!0}))})),Object(b.a)(a,"onPause",(function(){Ie(Object(v.a)(Object(v.a)({},xe),{},{playing:!i.current.props.playing}))})),a)),l.a.createElement("div",{className:"player-toolbar",hidden:"admin"!==re},l.a.createElement(x.a,{className:"player-toolbar"},l.a.createElement(k.a,{color:"default",onClick:Ye},l.a.createElement(Y.a,null)),l.a.createElement(k.a,{color:"default",onClick:function(){h.a.request(Object(r.findDOMNode)(i.current))}},l.a.createElement(q.a,null))),l.a.createElement("div",null,l.a.createElement(G.a,null),l.a.createElement(P.a,{defaultValue:30,onChange:function(e,a){Ie(Object(v.a)(Object(v.a)({},xe),{},{volume:parseFloat(a)/100}))},"aria-labelledby":"continuous-slider"})),l.a.createElement("div",null,l.a.createElement(P.a,{value:100*xe.played,onChange:function(e,a){var t={user:"all",url:i.current.props.url,played:parseFloat(a)/100};X.emit("current_video_prop",t)}})),l.a.createElement(J.a,null,l.a.createElement(M.a,{placeholder:"url...",value:he,onChange:function(e){je(e.target.value)}}),l.a.createElement(k.a,{color:"default",onClick:function(){if(Q.a.canPlay(he)){var e=!1;""!==xe.url&&null!==xe.url&&(e=!0);var a={url:he,isPlaying:e};X.emit("add_new_video",a),je("")}else alert("this is not a valid link")}},l.a.createElement(U.a,null))))),l.a.createElement(I.a,{item:!0,sm:!0,className:"user-control"},l.a.createElement(J.a,{className:"user-control-container"},l.a.createElement(S.a,{position:"static",color:"default"},l.a.createElement(R.a,{value:ve,onChange:function(e,a){Oe(a)},indicatorColor:"primary",variant:"fullWidth","aria-label":"user-control-tabs"},l.a.createElement(W.a,Object.assign({icon:l.a.createElement(A.a,null),"aria-label":"playlist-container"},ee(0))),l.a.createElement(W.a,Object.assign({icon:l.a.createElement(D.a,null),"aria-label":"chat-container"},ee(1))),l.a.createElement(W.a,Object.assign({icon:l.a.createElement(H.a,null),"aria-label":"userlist-container"},ee(2))))),l.a.createElement(N.a,{axis:"rtl"===c.direction?"x-reverse":"x",index:ve,onChangeIndex:function(e){Oe(e)}},l.a.createElement(Z,{value:ve,index:0,className:"playlist-container"},l.a.createElement("span",{className:"now-playing"}," Now Playing: ",xe.url," "),l.a.createElement(B.a,{dense:!0,className:"current-playlist"},"admin"===re?we.map((function(e,a){return l.a.createElement(_.a,{key:a,onClick:Te.bind(null,a),button:!0},l.a.createElement(w.a,{primary:e}),l.a.createElement(C.a,null,l.a.createElement(k.a,{edge:"end","aria-label":"delete",onClick:Fe.bind(null,a)},l.a.createElement(T.a,null))))})):we.map((function(e,a){return l.a.createElement(_.a,{key:a},l.a.createElement(w.a,{primary:e}))})))),l.a.createElement(Z,{value:ve,index:1,className:"chat-container"},l.a.createElement("div",{className:"chat-message-list"},pe.map((function(e,a){var t=e.sender,n=e.message;return l.a.createElement("div",{key:a},l.a.createElement("span",{className:"sender",style:{color:t.color}},t.username),l.a.createElement("span",{className:"message"},n))}))),l.a.createElement("div",{className:"chat-user-input"},l.a.createElement(m.a,{label:"standard",value:ue,onChange:function(e){se(e.target.value)}}),l.a.createElement(k.a,{color:"primary",onClick:function(){var e={sender:{username:p,color:ae},message:ue,room:t};X.emit("new_message",e),se("")}},l.a.createElement(V.a,null)))),l.a.createElement(Z,{value:ve,index:2,className:"userlist-container"},l.a.createElement("div",null,l.a.createElement("div",{className:"username-setting"},l.a.createElement("span",null,"Username:"),l.a.createElement(M.a,{value:g,onChange:function(e){j(e.target.value)}}),l.a.createElement(k.a,{color:"primary",onClick:function(){X.emit("change_username",g)}},l.a.createElement($.a,null))),l.a.createElement(B.a,{dense:!0,className:"connected-users"},Me.map((function(e,a){return l.a.createElement(_.a,{key:a},l.a.createElement("span",{style:{color:e.color}}," ",e.username))}))))))))),l.a.createElement("footer",null,l.a.createElement(k.a,{color:"default"},l.a.createElement(z.a,null))))},te=function(){return l.a.createElement(o.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/",component:p}),l.a.createElement(i.a,{exact:!0,path:"/r/:roomName",component:ae})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(te,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,a,t){}},[[117,1,2]]]);
//# sourceMappingURL=main.0e33cd2a.chunk.js.map